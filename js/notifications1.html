// notifications.js - request permission and show a test notification
document.addEventListener('DOMContentLoaded', function(){
  const btn = document.getElementById('saveSettings');
  btn.addEventListener('click', async function(){
    const enable = document.getElementById('enableNotifications').checked;
    if (enable && 'Notification' in window) {
      let perm = Notification.permission;
      if (perm === 'default') perm = await Notification.requestPermission();
      if (perm === 'granted') {
        new Notification('GenZSmart', { body: 'Notifications enabled.' });
      } else {
        alert('Notifications permission not granted.');
      }
    } else {
      alert('Settings saved.');
    }
  });
});
